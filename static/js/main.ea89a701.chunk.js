(this.webpackJsonpdicepix=this.webpackJsonpdicepix||[]).push([[0],{10:function(e,t,n){},12:function(e,t,n){"use strict";n.r(t);var i=n(1),c=n.n(i),r=n(4),a=n.n(r),o=(n(9),n(3)),s=(n(10),n(0)),l=function(){var e=Object(i.useRef)(null),t=Object(i.useRef)(null),n=Object(i.useState)([]),c=Object(o.a)(n,2),r=c[0],a=c[1],l=Object(i.useState)(1),u=Object(o.a)(l,2),d=u[0],h=u[1],j=["\u2685","\u2684","\u2683","\u2682","\u2681","\u2680"],f=function(e){for(var t=0,n=0,i=0;i<e.length;i+=4){n++;var c=e[i],r=e[i+1],a=e[i+2];t+=Math.floor((c+r+a)/3)}return Math.floor(t/n)},p=function(e,t){var n=Math.floor(e/t),i=Math.floor(e/n);return n*i===e&&i===t};Object(i.useEffect)((function(){!function(){var n=e.current,i=n.getContext&&n.getContext("2d"),c=t.current;n.height=c.naturalHeight||c.offsetHeight||c.height,n.width=c.naturalWidth||c.offsetWidth||c.width,i.drawImage(c,0,0)}(),function(){var t=e.current,n=t.getContext&&t.getContext("2d"),i=t.height,c=t.width;if(0!==c){for(var r=Math.floor(c/d),o=[],s=0;s<i;s+=r){for(var l=[],u=0;u<c;u+=r){var h=n.getImageData(u,s,r,r).data,p=f(h),g=Math.floor(p/43);l.push(j[g])}o.push(l)}a(o)}}()}),[t.current,d]);var g=r.reduce((function(e,t){return e+t.length}),0);return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsxs)("div",{className:"intro",children:[Object(s.jsx)("p",{children:"Welcome to the dice art generator! Complete with price estimation in case you'd actually pay literally hundreds of pounds to put one of these monstrosities on your wall!"}),Object(s.jsx)("p",{children:"(Click the image to upload your own)"}),Object(s.jsxs)("div",{className:"input",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{htmlFor:"image",children:Object(s.jsx)("img",{alt:"whatever you uploaded",ref:t,height:"100",src:"seinfeld.jpg"})}),Object(s.jsx)("input",{type:"file",id:"image",accept:"image/jpeg, image/png",style:{display:"none"},onChange:function(e){return function(e){t.current.src=URL.createObjectURL(e.target.files[0])}(e)}})]}),Object(s.jsxs)("div",{className:"options",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{htmlFor:"numDice",children:"Number of dice per row:"}),Object(s.jsx)("input",{type:"number",id:"numDice",value:d,onChange:function(t){return function(t){var n=parseInt(t),i=e.current.width,c=n>d?1:-1;if(0!==i){for(;!p(i,n);)n+=c;h(n)}}(t.target.value)},min:"1",max:"1000",style:{textAlign:"right"}})]}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("p",{children:["This image takes ",g," dice to create!"]}),Object(s.jsxs)("p",{children:["At 10p per dice, it'll cost ya \xa3",(.1*g).toFixed(2),"."]})]})]})]}),Object(s.jsx)("canvas",{ref:e,style:{display:"none"}})]}),Object(s.jsx)("div",{className:"dice-holder",children:r.map((function(e,t){return Object(s.jsx)("div",{children:e},t)}))})]})},u=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,13)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),i(e),c(e),r(e),a(e)}))};a.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(l,{})}),document.getElementById("root")),u()},9:function(e,t,n){}},[[12,1,2]]]);
//# sourceMappingURL=main.ea89a701.chunk.js.map