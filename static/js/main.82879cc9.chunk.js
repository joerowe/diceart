(this.webpackJsonpdicepix=this.webpackJsonpdicepix||[]).push([[0],{10:function(e,t,n){},12:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n.n(i),c=n(4),a=n.n(c),o=(n(9),n(2)),s=(n(10),n(0)),l=function(){var e=Object(i.useRef)(null),t=Object(i.useRef)(null),n=Object(i.useState)([]),r=Object(o.a)(n,2),c=r[0],a=r[1],l=Object(i.useState)(2),d=Object(o.a)(l,2),u=d[0],h=d[1],j=Object(i.useState)("seinfeld.jpg"),f=Object(o.a)(j,2),g=f[0],p=f[1],b=["\u2685","\u2684","\u2683","\u2682","\u2681","\u2680"],O=function(){var n=e.current,i=t.current;n.height=i.naturalHeight||i.offsetHeight||i.height,n.width=i.naturalWidth||i.offsetWidth||i.width,n.getContext("2d").drawImage(i,0,0)},m=function(){var t=e.current,n=t.getContext("2d"),i=t.height,r=t.width;if(0!==r){for(var c=Math.floor(r/u),o=[],s=0;s<=i-c;s+=c){for(var l=[],d=0;d<=r-c;d+=c){var h=n.getImageData(d,s,c,c).data,j=x(h),f=Math.floor(j/43);l.push(b[f])}o.push(l)}a(o)}},x=function(e){for(var t=0,n=0,i=0;i<e.length;i+=4){n++;var r=e[i],c=e[i+1],a=e[i+2];t+=Math.floor((r+c+a)/3)}return Math.floor(t/n)},v=function(t,n){return Math.floor(e.current.width/n)===t},w=function(t){var n=t?parseInt(t):1,i=n>u?1:-1;if(0!==e.current.width){for(var r=Math.floor(e.current.width/n);!v(n,r);)n+=i,r=r=Math.floor(e.current.width/n);e.current.height<r&&(n+=1),h(n)}};Object(i.useEffect)((function(){O(),m()}),[u]);var y=function(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},C=c.reduce((function(e,t){return e+t.length}),0);return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsxs)("div",{className:"intro",children:[Object(s.jsx)("p",{children:"Welcome to the dice art generator! Complete with price estimation in case you'd actually pay literally hundreds of pounds to put one of these monstrosities on your wall!"}),Object(s.jsx)("p",{children:"(Click the image to upload your own)"}),Object(s.jsxs)("div",{className:"input",children:[Object(s.jsxs)("div",{className:"image",children:[Object(s.jsx)("label",{htmlFor:"image",children:Object(s.jsx)("img",{alt:"whatever you uploaded",ref:t,height:"100",src:g,onLoad:function(){return O(),w(1),void m()}})}),Object(s.jsx)("input",{type:"file",id:"image",accept:"image/jpeg, image/png",style:{display:"none"},onChange:function(e){return function(e){p(URL.createObjectURL(e.target.files[0]))}(e)}})]}),Object(s.jsxs)("div",{className:"options",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{htmlFor:"numDice",children:"Number of dice per row:"}),Object(s.jsx)("input",{type:"number",id:"numDice",value:u,onChange:function(e){return w(e.target.value)},min:"1",max:"1000",style:{textAlign:"right"}})]}),Object(s.jsx)("div",{children:c[0]&&Object(s.jsxs)("div",{children:[Object(s.jsxs)("p",{children:["This image has ",c.length," rows of ",c[0].length," dice."]}),Object(s.jsxs)("p",{children:["That's a total of ",y(C)," dice!"]}),Object(s.jsxs)("p",{children:["At 10p per dice, it'll cost ya \xa3",y((.1*C).toFixed(2)),"."]})]})})]})]}),Object(s.jsx)("canvas",{ref:e,style:{display:"none"}})]}),Object(s.jsx)("div",{className:"dice-holder",children:c.map((function(e,t){return Object(s.jsx)("div",{children:e},t)}))})]})},d=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,13)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),i(e),r(e),c(e),a(e)}))};a.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(l,{})}),document.getElementById("root")),d()},9:function(e,t,n){}},[[12,1,2]]]);
//# sourceMappingURL=main.82879cc9.chunk.js.map